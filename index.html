<!DOCTYPE html>
<html>
<head>
  <title>Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>
  <div id="map" style="height: 400px;"></div>
  <script>
    var map = L.map('map').setView([35.682839, 139.759455], 6); // 日本の中心座標を設定

    // 日本の範囲を表示するための境界線を描画
    var japanBounds = L.latLngBounds(
      L.latLng(20.0, 122.0), // 南西端の緯度経度
      L.latLng(45.0, 154.0)  // 北東端の緯度経度
    );
    map.fitBounds(japanBounds);

    // 地理院地図の淡色地図レイヤーを追加
    L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg', {
      attribution: '地理院地図',
      maxZoom: 7,
      minZoom: 4, // ミニマムズームレベルを設定
    }).addTo(map);

    // JSONデータを取得し、マーカーを作成する関数
    function addMarkersFromJSON(jsonURL) {
      fetch(jsonURL)
        .then(response => response.json())
        .then(data => {
          data.forEach(coord => {
            var marker = L.circleMarker(coord, {
              radius: 10, // 半径を設定
              color: 'red', // 外側の色を赤に設定
              fillColor: 'rgba(255, 0, 0, 0.3)', // 中心の色を透明な赤に設定
              fillOpacity: 1 // 塗りつぶしの透明度を設定
            }).addTo(map);
          });
        })
        .catch(error => {
          console.error('There was an error fetching the JSON data:', error);
        });
    }

    // JSONデータのURL
    var jsonURL = 'https://www.jma.go.jp/bosai/quake/data/list.json'; // ここにJSONデータのURLを追加してください
    // JSONデータからマーカーを作成
    addMarkersFromJSON(jsonURL);

  </script>
</body>
</html>
